{
    "type": "object",
    "properties": {
        "type": {
            "title": "Is user a contact, lead or existing client?",
            "type": "string",
            "enum": [
                "Existing",
                "New"
            ],
            "default": "New"
        }
    },
    "allOf": [
        {
            "if": {
                "properties": {
                    "type": {
                        "const": "Existing"
                    }
                }
            },
            "then": {
                "properties": {
                    "existingEmail": {
                        "type": "string",
                        "title": "Email ID"
                        
                    },
                    "offerings": {
                        "title": "Select Offerings",
                        "type": "string"
                        
                    },
                    "duration": {
                        "type": "string",
                        "title": "Duration",
                        "enum": [
                            "1 day",
                            "30 days",
                            "90 days",
                            "180 days",
                            "360 days"
                        ],
                        "default": "1 day"
                    }
                },
                "required": [
                    "email",
                    "offering",
                    "duration"
                ]
            }
        },
        {
            "if": {
                "properties": {
                    "type": {
                        "const": "New"
                    }
                }
            },
            "then": {
                "properties": {
                    "firstname": {
                        "type": "string",
                        "title": "First Name"
                    },
                    "lastname": {
                        "type": "string",
                        "title": "Last Name"
                    },
                    "phone": {
                        "type": "string",
                        "title": "Phone Number",
                        "minLength": 10,
                        "format": "phone-in"
                    },
                    "email": {
                        "type": "string",
                        "title": "Email ID",
                        "format": "email"
                    },
                    "offerings": {
                        "title": "Select offering",
                        "type": "string"
                       
                    },
                    "duration": {
                        "type": "string",
                        "title": "Duration",
                        "enum": [
                            "1 day",
                            "30 days",
                            "90 days",
                            "180 days",
                            "360 days"
                        ],
                        "default": "1 day"
                    }
                },
                "required": [
                    "firstname",
                    "lastname",
                    "phone",
                    "email",
                    "offerings",
                    "duration"
                ]
            }
        },
        {
            "required": [
                "type"
            ]
        }
    ]
}